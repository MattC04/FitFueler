{"version":3,"file":"byteLength.mjs","sources":["../../../../../../src/providers/s3/apis/uploadData/byteLength.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Calculate the total size of the data to be uploaded. The total size is not required for multipart upload, as it's\n * only used in progress report.\n */\nexport const byteLength = (input) => {\n    if (input === null || input === undefined)\n        return 0;\n    if (typeof input === 'string') {\n        let len = input.length;\n        for (let i = len - 1; i >= 0; i--) {\n            const code = input.charCodeAt(i);\n            if (code > 0x7f && code <= 0x7ff)\n                len++;\n            else if (code > 0x7ff && code <= 0xffff)\n                len += 2;\n            if (code >= 0xdc00 && code <= 0xdfff)\n                i--; // trail surrogate\n        }\n        return len;\n    }\n    else if (typeof input.byteLength === 'number') {\n        // handles Uint8Array, ArrayBuffer, Buffer, and ArrayBufferView\n        return input.byteLength;\n    }\n    else if (typeof input.size === 'number') {\n        // handles browser File object\n        return input.size;\n    }\n    // TODO: support Node.js stream size when Node.js runtime is supported out-of-box.\n    return undefined;\n};\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,UAAU,GAAG,CAAC,KAAK,KAAK;AACrC,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,SAAS;AAC7C,QAAQ,OAAO,CAAC,CAAC;AACjB,IAAI,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;AACnC,QAAQ,IAAI,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC;AAC/B,QAAQ,KAAK,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;AAC3C,YAAY,MAAM,IAAI,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AAC7C,YAAY,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,IAAI,KAAK;AAC5C,gBAAgB,GAAG,EAAE,CAAC;AACtB,iBAAiB,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,IAAI,MAAM;AACnD,gBAAgB,GAAG,IAAI,CAAC,CAAC;AACzB,YAAY,IAAI,IAAI,IAAI,MAAM,IAAI,IAAI,IAAI,MAAM;AAChD,gBAAgB,CAAC,EAAE,CAAC;AACpB,SAAS;AACT,QAAQ,OAAO,GAAG,CAAC;AACnB,KAAK;AACL,SAAS,IAAI,OAAO,KAAK,CAAC,UAAU,KAAK,QAAQ,EAAE;AACnD;AACA,QAAQ,OAAO,KAAK,CAAC,UAAU,CAAC;AAChC,KAAK;AACL,SAAS,IAAI,OAAO,KAAK,CAAC,IAAI,KAAK,QAAQ,EAAE;AAC7C;AACA,QAAQ,OAAO,KAAK,CAAC,IAAI,CAAC;AAC1B,KAAK;AACL;AACA,IAAI,OAAO,SAAS,CAAC;AACrB;;;;"}